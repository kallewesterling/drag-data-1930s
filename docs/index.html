<!DOCTYPE html>
<html class="theme-light">
    <head>
        <script src="https://d3js.org/d3.v5.min.js"></script>
        <!--<script src="https://d3js.org/d3.v6.min.js"></script>-->
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-CuOF+2SnTUfTwSZjCXf01h7uYhfOBuxIhGKPbfEJ3+FqH/s6cIFN9bGr1HmAg4fQ" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-t6I8D5dJmMXjCsRLhSzCltuhNZg6P10kE0m0nAncLUjH6GeYLhRU1zfLoW3QNQDF" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/themes.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/bootstrap-icons.css">
        <title>U.S. Drag in the 1930s</title>
    </head>
    <body>
    <div class="modal" id="numberModal">
        <div class="modal-dialog modal-dialog-centered justify-content-center">
            <div class="modal-content w-auto shadow">
                <div class="modal-body">
                    <h5></h5>
                    <h1></h1>
                </div>
            </div>
        </div>
    </div>
        <div id="wrapToasters"></div>
        <div id="settings" class="small card shadow border rounded-lg">
            <div class="card-header d-flex justify-content-between align-items-center" id="settingsToggle">
                Settings<!-- <button id="settingsToggle" type="button" class="btn-close" aria-label="Close"></button>-->
            </div>
            <ul id="settingsContainer" class="list-group list-group-flush">
                <li class="list-group-item">
                    <div class="mb-2">
                        <p class="small text-muted p-0 m-0"><strong>Node filtering</strong></p>
                    </div>
                    <div class="mb-2">
                        <input class="p-0 m-0" type="range" id="minDegree" name="minDegree" min="1" max="40" value="1" step="1">
                        <label class="small p-0 m-0" for="minDegree" id="minDegree_label">minDegree</label>
                        <span class="text-nowrap small metaShow d-none"><key class="small rounded ml-1 bg-success text-white p-1 fw-bold">&#8592;</key><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">&#8594;</key></span>
                    </div>
                    <div class="mb-2">
                        <p class="small text-muted p-0 m-0"><strong>view</strong></p>
                    </div>
                    <div class="mb-2">
                        <input class="p-0 m-0" type="range" id="nodeMultiplier" name="nodeMultiplier" min="1" max="40" value="1" step="1">
                        <label class="small p-0 m-0" for="nodeMultiplier" id="nodeMultiplier_label">size nodeMultiplier</label>
                        <span class="text-nowrap small metaShow d-none"><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">+</key><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">-</key></span>
                    </div>
                    <div class="mt-3 mb-2">
                        <p class="mb-1 text-muted small"><strong>behavior</strong></p>
                    </div>
                    <div class="mb-2">
                        <p class="m-0">
                            <label class="mr-1" for="autoClearNodes"><input type="checkbox" id="autoClearNodes"> auto-clear unconnected nodes</label>
                            <span class="text-nowrap small metaShow d-none"><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">&#8984; + C</key></span>
                        </p>
                    </div>
                    <div class="mb-2">
                        <label class="mr-1" for="stickyNodes"><input type="checkbox" id="stickyNodes"> stickyNodes</label>
                    </div>
                    <div class="mb-2">
                        <label class="mr-1" for="nodeSizeFromCurrent"><input type="checkbox" id="nodeSizeFromCurrent"> node size from current graph</label>
                        <span class="text-nowrap small metaShow d-none"><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">&#8679; + N</key></span>
                    </div>
                    <div class="mb-2">
                        <label class="mr-1" for="communityDetection"><input type="checkbox" id="communityDetection"> community detection</label>
                    </div>
                </li>

                <li class="list-group-item">
                    <div class="mb-2">
                        <p class="small text-muted p-0 m-0"><strong>Edge filtering</strong></p>
                    </div>
                    <div class="mb-2">
                        <input class="p-0 m-0" type="range" id="minWeight" name="minWeight" min="0" max="40" value="1" step="1">
                        <label class="small p-0 m-0" for="minWeight" id="minWeight_label">minWeight</label>
                        <span class="text-nowrap small metaShow d-none"><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">&#8679; + &#8592;</key><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">&#8679; + &#8594;</key></span>
                    </div>
                    <div class="mb-2">
                        <p class="small text-muted p-0 m-0"><strong>view</strong></p>
                    </div>
                    <div class="mb-2">
                        <input class="p-0 m-0" type="range" id="edgeMultiplier" name="edgeMultiplier" min="1" max="40" value="1" step="1">
                        <label class="small p-0 m-0" for="edgeMultiplier" id="edgeMultiplier_label">size edgeMultiplier</label>
                        <span class="text-nowrap small metaShow d-none"><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">+</key><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">-</key></span>
                    </div>
                    <div class="mb-2">
                        <label class="small p-0 m-0" for="startYear">startYear</label>
                        <select id="startYear"></select>
                        <label class="small p-0 m-0" for="startYear">endYear</label>
                        <select id="endYear"></select>
                    </div>
                    <div class="mt-3 mb-2">
                        <p class="mb-1 text-muted small"><strong>behavior</strong></p>
                    </div>
                    <div class="mb-2">
                        <label class="mr-1" for="weightFromCurrent"><input type="checkbox" id="weightFromCurrent"> determine weight from current graph</label>
                    </div>
                </li>

                <li class="list-group-item">
                    <div class="mb-2">
                        <p class="small text-muted p-0 m-0"><strong>Force settings</strong></p>
                    </div>
                    <div class="mb-2">
                        <p class="m-0">
                            <label class="mr-1" for="layoutCenter"><input type="checkbox" id="layoutCenter"> center</label>
                            <label class="mr-1" for="layoutForceX"><input type="checkbox" id="layoutForceX"> forceX</label>
                            <label class="mr-1" for="layoutForceY"><input type="checkbox" id="layoutForceY"> forceY</label>
                        </p>
                        <p class="m-0">
                            <label class="mr-1" for="layoutCollide"><input type="checkbox" id="layoutCollide"> collide</label>
                            <label class="mr-1" for="layoutCharge"><input type="checkbox" id="layoutCharge"> charge</label>
                        </p>
                    </div>
                    <div class="mb-2" id="chargeContainer">
                        <input class="p-0 m-0" type="range" id="charge" name="charge" min="1" max="40" value="1" step="1">
                        <label class="small p-0 m-0" for="charge" id="charge_label">charge</label>
                        <span class="text-nowrap small metaShow d-none"><key class="small rounded ml-1 bg-success text-white p-1 fw-bold">&#8593;</key><key class="rounded small ml-1 bg-success text-white p-1 fw-bold">&#8595;</key></span>
                    </div>
                    <div class="mb-2" id="collideContainer">
                        <input class="p-0 m-0" type="range" id="collide" name="collide" min="1" max="40" value="1" step="1">
                        <label class="small p-0 m-0" for="collide" id="collide_label">collide</label>
                    </div>
                    <div class="mb-2" id="linkStrengthContainer">
                        <input class="p-0 m-0" type="range" id="linkStrength" name="linkStrength" min="1" max="40" value="1" step="1">
                        <label class="small p-0 m-0" for="linkStrength" id="linkStrength_label">linkStrength</label>
                    </div>
                    <div class="mb-2">
                        <p class="m-0">
                            <label class="mr-1" for="layoutClustering"><input type="checkbox" id="layoutClustering"> clustering</label>
                        </p>
                    </div>
                </li>

                <li class="list-group-item">
                    <div class="mb-2">
                        <p class="small text-muted p-0 m-0 fw-bold" data-toggle="debugToggle">Debug</p>
                    </div>
                    <div class="mb-2 d-none" id="debugToggle">
                        <label class="mr-1" for="debugMessages"><input type="checkbox" id="debugMessages"> debugMessages</label>
                    </div>
                </li>
            </ul>
        </div>
        <div id="infoContainer" class="card shadow border rounded-lg small">
            <div class="card-header d-flex justify-content-between align-items-center" id="infoToggle">
                Info/Quick Access<!-- <button id="infoToggle" type="button" class="btn-close" aria-label="Close"></button>-->
            </div>
            <div id="infoToggleDiv">
                <div class="p-1 pt-3 text-center"><a id="toggleInfoBox" class="btn btn-sm btn-success">Explanation/Rationale</a></div>
                <div id="info" class="p-3"></div>
                <div class="pt-3 border-top p-3 text-center">
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="switchMode" name="switchMode">Switch mode</button>
                </div>
                <div class="pb-3">
                    <div class="p-1 text-center">
                        <button type="button" class="btn btn-sm btn-outline-secondary" id="resetLocalStorage" name="resetLocalStorage">Reset saved settings</button>
                    </div>
                    <div class="p-1 text-center">
                        <button type="button" class="btn btn-sm btn-outline-secondary" id="clearUnconnected" name="clearUnconnected">Clear unconnected nodes</button>
                    </div>
                    <div class="p-1 text-center">
                        <a type="button" class="btn btn-sm btn-outline-success" href="https://docs.google.com/spreadsheets/d/1UlpFQ9WWA6_6X-RuMJ3vHdIbyqhCZ1VRYgcQYjXprAg/edit#gid=0" target="_blank">Show entire dataset</a>
                    </div>
                    <!-- TODO: THis is not working currently
                    <div class="p-1 pb-3 text-center">
                        <button type="button" class="btn btn-sm btn-outline-success" id="showAllPotentialNodes" name="showAllPotentialNodes">Show all potential nodes</button>
                    </div>
                    -->
                </div>
            </div>
        </div>
        <div id="nodeEdgeInfo" class="small shadow border p-3 rounded-lg d-none"></div>
        <div id="previewData" class="small shadow border p-3 rounded-lg d-none"><svg id="preview"></svg></div>

        <div id="info-box" class="d-none">
            <div class="row">
                <div class="col-12 col-md">
                    <h1 class="h3">Header</h1>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint impedit tenetur vel provident! Minima ratione repellat voluptates, quisquam, assumenda error voluptatem quidem, tenetur saepe itaque repellendus possimus optio alias ut?</p>

                    <h2 class="h5">Keyboard Shortcuts</h2>
                    <div class="row">
                        <div class="col-1">
                            <kbd>esc</kbd>
                        </div>
                        <div class="col">
                            <p>Hide the frontmost element. When this information window (which you're currently looking at) is showing, it will hide this window. If you're in the network visualization screen, it will toggle the visibility of the setting boxes.</p>
                        </div>
                        <div class="col-1 border-left">
                            <kbd>&#8679;</kbd><kbd>&#8592;</kbd> or<br />
                            <kbd>&#8679;</kbd><kbd>&#8594;</kbd>
                        </div>
                        <div class="col">
                            <p>Adjust edge's minimum weight up and down. <strong>What does that mean?</strong></p>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-3 d-flex flex-column" id="dashboard">
                    <h1 class="h3">Dashboard</h1>
                    <div class="rounded border mb-2 p-1">
                        <p><strong>Number of nodes</strong></p>
                        <p class="mb-2">257</p>
                        <p><small class="text-muted">Explanation here</small></p>
                    </div>
                </div>
            </div>
        </div>

        <svg id="main" width="100%" height="100%"></svg>

        <div id="popup-info" class="d-none shadow"></div>
        <div id="egoNetwork" class="d-none shadow p-2 text-center bg-warning">Ego network for node <span id="node">NODE</span>.<i id="closeEgoNetwork" class="ml-3 bi bi-stop-circle"></i></div>
    
        <div id="loading" class="h-100 d-flex justify-content-center">
            <div id="loadingContainer" class="my-auto p-4 bg-white rounded shadow d-flex flex-column">
                <div id="loadingMessage"></div>
                <div class="text-center">
                    <div class="spinner-grow mt-2" role="status"></div>
                </div>
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="app/utils/debug.js"></script>
        <script src="app/settings.js"></script>
        <script src="app/regex.js"></script>
        <script src="app/theme.js"></script>
        <script src="app/setup.js"></script>
        <script src="app/utils/general.js"></script>
        <script src="app/utils/text.js"></script>
        <script src="app/utils/visibility.js"></script>
        <script src="app/scales.js"></script>
        <script src="app/filters.js"></script>
        <script src="app/load.js"></script>
        <script src="app/zoom.js"></script>
        <script src="app/app.js"></script>
        
        <script src="app/jlouvain/jlouvain.js"></script>
        <script src="app/tour.js"></script>

        <!-- TODO: a different app... so another project. Maybe it should just be a different page altogether -->
        <script src="preview-app/previewData.js"></script>
    </body>
</html>
